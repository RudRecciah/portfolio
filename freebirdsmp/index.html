<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Meta tags -->
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
        <meta name="keywords" content="freebird, rudrecciah, endcraft, kan gao, smp, minecraft, roleplay, rp, mc, to the moon, finding paradise, impostor factory, freebird games" />
        <meta name="description" content="Minecraft and things." />
        <meta name="author" content="RudRecciah" />
        <!-- Favicon and title -->
        <link rel="icon" href="./ico.png">
        <title>Freebird SMP</title>
        <!-- CSS -->
        <link href="https://cdn.jsdelivr.net/npm/halfmoon@1.1.1/css/halfmoon-variables.min.css" rel="stylesheet" />
        <link href="./style.css" rel="stylesheet" />
    </head>
    <body class="with-custom-webkit-scrollbars with-custom-css-scrollbars dark-mode" data-dm-shortcut-enabled="true" data-sidebar-shortcut-enabled="true">
        <!-- Modals go here -->
        <!-- TODO: modal-->
        <div class="modal ie-scroll-fix" id="modal-1" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content overflow-y-scroll h-600">
                    <a href="#" class="close" role="button" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </a>
                    <h5 class="modal-title">Modal title</h5>
                    <p>
                        This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. This is the modal content. Almost any type of content can be presented to the user here. 
                    </p>
                    <div class="text-right mt-20"> <!-- text-right = text-align: right, mt-20 = margin-top: 2rem (20px) -->
                        <a href="#" class="btn mr-5" role="button">Close</a>
                        <a href="#" class="btn btn-primary" role="button">I understand</a>
                    </div>
                </div>
                </div>
            </div>
        <div class="page-wrapper">
            <div class="sticky-alerts">
                <!-- Toasts go here -->
            </div>
            <div class="content-wrapper bg-primary">
                <div class="content">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col text-center">
                                <img src="fl.png" class="img-fluid rh-500" alt="shits fucked pls reload">
                            </div>
                        </div>
                        <div class="aespacer"></div>
                        <div class="row">
                            <div class="col">
                                <div class="card bg-white text-primary">
                                    <h1 class="card-title text-center">
                                        FreebirdSMP
                                    </h1>
                                    <!-- TODO: YOUTUBE CHANNEL LINK -->
                                    <p class="text-center">
                                        A small, invite only Minecraft server built for <b><a href="https://discord.com/invite/MDxRZCx">this Discord server</a></b>. Looking to see what we do? Check out some of our <b><a href="#">videos</a></b>! We roleplay, host events, and enslave villagers for economical gain. Want to join? We accept most active members of <b><a href="https://discord.com/invite/MDxRZCx">said Discord server</a></b>, as well as people recommended from other server members. Because of our involvment with roleplay aspects, you will have a canonical part. This doesn't mean you will have to actually be involved in the storyline; if you want to just play we have parts that don't have much involvment in the plot. Looking for more information? DM me on Discord<br><span class="text-monospace">@RudRecciah#5681 (id=246080207704817664)</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6 col-md-12">
                                <div class="card bg-white text-primary">
                                    <h1 class="card-title text-center">
                                        Players
                                    </h1>
                                    <!-- TODO: different layout for mobile-->
                                    <div id="pc">

                                    </div>
                                    <!--
                                    <div class="card bg-primary text-white">
                                        <div class="row">
                                            <div class="col-8">
                                                <div class="row">
                                                    <p class="text-truncate m-10">
                                                        Title
                                                    </p>
                                                </div>
                                                <div class="row w-full">
                                                    <div class="w-full">
                                                        <a href="#modal-1" class="btn btn-primary bg-white text-primary w-full" onclick="loadFullCard()">
                                                            Player info
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-4">
                                                <div class="text-right">
                                                    <img src="https://minotar.net/avatar/rudrecciah/100.png" class="img-fluid rounded" alt="shits fucked pls reload">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    -->
                                </div>
                            </div>
                            <div class="col-lg-6 col-md-12">
                                <div class="card bg-white text-primary">
                                    <h1 class="card-title text-center">
                                        Statistics
                                    </h1>
                                    <p class="text-center">
                                        Some stats.
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <div class="card bg-white text-white text-center">
                                    <div>
                                        <a href="../" class="btn btn-primary">Back</a>
                                    </div>
                                    <div class="sespacer">

                                    </div>
                                    <div class="sespacer">
                                        
                                    </div>
                                    <div class="sespacer">
                                        
                                    </div>
                                    <div>
                                        <a href="../bugs/" class="btn btn-primary">Report A Bug</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Halfmoon JS -->
        <script src="https://cdn.jsdelivr.net/npm/halfmoon@1.1.1/js/halfmoon.min.js"></script>
        <script src="https://kit.fontawesome.com/d1e8146998.js" crossorigin="anonymous"></script>
        <!-- JS EXAMPLE FOR CQS 
        chehk eit awt moate https://rudrecciah.dev/customquerystats/
        dis un aint have no cawwmnts suh bettah luhk der

        yes those 2 lines include 4 different butchered accents
        -->
        <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
        <script>
            //beginning of example
            //get motd, parse motd, read motd, process motd, "returns" dataObj
            var dataObj = {};
            getStats();

            function getStats() {
                $.getJSON('https://api.mcsrvstat.us/2/freebird.endcraft.org', function(query) {
                    parseData(query);
                });
            }

            function parseData(workingQuery) {
                var motd = workingQuery.motd.clean;
                var data = motd[3];
                var dataSplit = data.split("%q%");
                var infoSplit = dataSplit[1].split("%w%");
                var date = infoSplit[0];
                var stats = infoSplit[1];
                var statsSplit = stats.split("%e%");
                var playerName = statsSplit[0];
                var playerSplit = statsSplit[1].split("%r%");
                playerSplit.forEach(processData);
                handleData(dataObj);
            }

            function processData(playeritem, playerindex) {
                if(playeritem.length > 0) {
                    var itemSplit = playeritem.split("%t%");
                    var itemName = itemSplit[0];
                    var statObjArr = [];
                    var itemStats = itemSplit[1];
                    var itemStatsSplit = itemStats.split("%y%");
                    itemStatsSplit.forEach(element => {
                        if(element.length > 0) {
                            var elementSplit = element.split("%u%");
                            var statKey = elementSplit[0];
                            var statValue = elementSplit[1];
                            var statObjArrObj = ["key=" + statKey, "statValue=" + statValue];
                            statObjArr.push(statObjArrObj);
                        }
                    });
                }
                dataObj[itemName] = statObjArr;
                delete dataObj.undefined;
            }
            //end of example

            //inject data into html
            function handleData(dataToHandle) {
                var builtCard = [];
                Object.keys(dataToHandle).forEach(key => {
                    var cardName = key;
                    var cardStats = dataToHandle[key];
                    var cardStatPackage = "-1%csp%";
                    var finalDataTag = [""];
                    cardStats.forEach(cardStat => {
                        var currentPackage = cardStatPackage;
                        var currentStatSplit = currentPackage.split("%csp%");
                        var currentStatIndex = parseInt(currentStatSplit[0]);
                        var currentRawStats = currentStatSplit[1];
                        var newStatIndex = currentStatIndex + 1;
                        cardStatPackage = newStatIndex.toString() + "%csp%";
                        var packageAddition = currentRawStats + " " + "data-stats-" + newStatIndex + "\=\"" + cardStat;
                        cardStatPackage = newStatIndex + "%csp%" + packageAddition;
                        var currentRawData = cardStatPackage.split("%csp%")[1];
                        finalDataTag = [currentRawData];
                    });
                    var cardImg = "https://mc-heads.net/head/" + cardName.toLowerCase() + "/left"
                    var cardBuilder = "\<div id\=\"" + cardName + "\""
                    var cardBuilder1 = finalDataTag[0];
                    //TODO: mobile design (image on top, name/button on bottom (use reverse direction))
                    var cardBuilder2 = "\" " + "class\=\"card bg-primary text-white\"\>\<div class\=\"row\"\>\<div class\=\"col-8\"\>\<div class\=\"row\"\>\<\p class\=\"text-truncate m-10\"\>" + cardName + "\<\p\>\<\/div\>\<div class\=\"row w-full\"\>\<div class\=\"w-full\"\>\<a href\=\"#modal-1\" class\=\"btn btn-primary bg-white text-primary w-full\" onclick\=\"loadFullCard(" + cardName + ")\"\>Player info\<\/a\>\<\/div\>\<\/div\>\<\/div\>\<div class\=\"col-4\"\>\<div class\=\"text-right\"\>\<img src\=\"" + cardImg + "\" class\=\"img-fluid rounded rud-100\" alt\=\"shits fucked pls reload\"\>\<\/div\>\<\/div\>\<\/div\>\<\/div\>";
                    var currentCard = builtCard[0];
                    var builtCardString = cardBuilder + cardBuilder1 + cardBuilder2;
                    var newCard = currentCard + builtCardString
                    builtCard = [newCard];
                });
                var currentFinalCard = builtCard[0];
                var finalCard = currentFinalCard.replace("undefined", "")
                document.getElementById("pc").innerHTML = finalCard;
            }
        </script>
    </body>
</html>